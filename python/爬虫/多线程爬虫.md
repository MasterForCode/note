---
title: 多线程爬虫
tags:  python，爬虫
grammar_cjkRuby: true
---


#### 多线程爬虫
有些时候，比如下载图片，因为下载图片是一个耗时的操作。如果采用同步的方式下载，效率比较低。这时可以采用多线程方式下载图片

#### 多线程介绍
多线程是为了同步完成多项任务，通过提高资源使用效率来提高系统效率

#### threading模块介绍
threading模块是python中专门提供用来多线程编程的模块。threading模块中最常用的类是Thread。
```python
# encoding:utf-8
import threading
import time


def coding():
    for x in range(3):
        print("{0}正在编程".format(x))
        time.sleep(1)


def drawing():
    for x in range(3):
        print("{0}正在画图".format(x))
        time.sleep(1)


def single_thread():
    coding()
    drawing()


def multiple_thread():
    t1 = threading.Thread(target=coding)
    t2 = threading.Thread(target=drawing)
    t1.start()
    t2.start()


if __name__ == '__main__':
    multiple_thread()

```
查看进程中的线程数
```python
threading.enumerate()
```
查看当前线程信息
```python
threading.current_thread()
```
继承threading.Thread类，实现自定义多线程类
```python
import threading
import time


class CodingThread(threading.Thread):
    def run(self):
        for x in range(3):
            print("{0}正在编程".format(x))
            time.sleep(1)


class DrawingThread(threading.Thread):
    def run(self):
        for x in range(3):
            print("{0}正在画图".format(x))
            time.sleep(1)


def main():
    t1 = CodingThread()
    t2 = DrawingThread()
    t1.start()
    t2.start()


if __name__ == '__main__':
    main()

```
多线程共享全局变量
